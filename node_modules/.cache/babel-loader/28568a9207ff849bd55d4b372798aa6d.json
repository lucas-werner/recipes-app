{"ast":null,"code":"var _jsxFileName = \"/home/lucaswerner/repositories/trybe-projects/sd-03-recipes-app-01/src/pages/ExploreDrinkIngredientsPage/index.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { Card, Header, Footer, Loading } from \"../../components\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { FoodsContext } from \"../../contexts/FoodsContext\";\nimport { fetchDrinkApi } from \"../../services/APIs/DRINKS_API\";\n\nconst handleRedirect = (name, setDrinkFilter, setRedirect) => {\n  const search = `filter.php?i=${name}`;\n  setDrinkFilter(search);\n  setRedirect(true);\n};\n\nfunction ExploreDrinkIngredientsPage() {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [ingredients, setIngredients] = useState([]);\n  const [redirect, setRedirect] = useState(false);\n  const [{\n    drinkFilter\n  }, {\n    setDrinkFilter\n  }] = useContext(DrinksContext);\n  useEffect(() => {\n    fetchFoodsApi(\"list.php?i=list\").then(({\n      drinks\n    }) => drinks.map(({\n      strIngredient: ingredient\n    }) => ({\n      name: ingredient,\n      srcImage: `https://www.thecocktaildb.com/images/ingredients/${ingredient}-Small.png`\n    }))).then(arr => {\n      setIngredients(arr);\n      setLoading(false);\n    }).catch(err => {\n      console.log(err);\n      setError(err);\n    });\n  }, [setLoading]);\n  if (loading) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 23\n    }\n  });\n  if (redirect) return /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/bebidas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 24\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    titleTag: \"Explorar Ingredientes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), ingredients.slice(0, 12).map(({\n    name,\n    srcImage\n  }, index) => /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleRedirect(name, setFoodFilter, setRedirect),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    name: name,\n    index: index,\n    srcImage: srcImage,\n    testid: {\n      title: `${index}-ingredient-card`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default ExploreDrinkIngredientsPage;","map":{"version":3,"sources":["/home/lucaswerner/repositories/trybe-projects/sd-03-recipes-app-01/src/pages/ExploreDrinkIngredientsPage/index.js"],"names":["React","useEffect","useState","useContext","Card","Header","Footer","Loading","Link","Redirect","FoodsContext","fetchDrinkApi","handleRedirect","name","setDrinkFilter","setRedirect","search","ExploreDrinkIngredientsPage","loading","setLoading","error","setError","ingredients","setIngredients","redirect","drinkFilter","DrinksContext","fetchFoodsApi","then","drinks","map","strIngredient","ingredient","srcImage","arr","catch","err","console","log","slice","index","setFoodFilter","title"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { Card, Header, Footer, Loading } from \"../../components\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { FoodsContext } from \"../../contexts/FoodsContext\";\nimport { fetchDrinkApi } from \"../../services/APIs/DRINKS_API\";\n\nconst handleRedirect = (name, setDrinkFilter, setRedirect) => {\n  const search = `filter.php?i=${name}`;\n  setDrinkFilter(search);\n  setRedirect(true);\n};\n\nfunction ExploreDrinkIngredientsPage() {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [ingredients, setIngredients] = useState([]);\n  const [redirect, setRedirect] = useState(false);\n  const [{ drinkFilter }, { setDrinkFilter }] = useContext(DrinksContext);\n\n  useEffect(() => {\n    fetchFoodsApi(\"list.php?i=list\")\n      .then(({ drinks }) =>\n        drinks.map(({ strIngredient: ingredient }) => ({\n          name: ingredient,\n          srcImage: `https://www.thecocktaildb.com/images/ingredients/${ingredient}-Small.png`,\n        })),\n      )\n      .then((arr) => {\n        setIngredients(arr);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n        setError(err);\n      });\n  }, [setLoading]);\n\n  if (loading) return <Loading />;\n  if (redirect) return <Redirect to=\"/bebidas\" />\n\n  return (\n    <div>\n      <Header titleTag=\"Explorar Ingredientes\" />\n      {ingredients.slice(0, 12).map(({ name, srcImage }, index) => (\n        <button onClick={() => handleRedirect(name, setFoodFilter, setRedirect)}>\n          <Card\n            name={name}\n            index={index}\n            srcImage={srcImage}\n            testid={{ title: `${index}-ingredient-card` }}\n          />\n        </button>\n      ))}\n      <Footer />\n    </div>\n  );\n}\n\nexport default ExploreDrinkIngredientsPage;\n"]},"metadata":{},"sourceType":"module"}