{"ast":null,"code":"var _jsxFileName = \"/home/lucaswerner/repositories/trybe-projects/sd-03-recipes-app-01/src/pages/DrinkDetailsPage/index.js\";\nimport React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { DetailsCard, Carrosel } from '../../components';\nimport { fetchDrinkApi, handleDrinksData } from '../../services/APIs/DRINKS_API';\nimport { fetchFoodsApi, handleFoodsData } from '../../services/APIs/FOODS_API';\nimport useRequisition from '../../hooks/requisition';\n\nfunction DrinkDetailsPage({\n  id\n}) {\n  const [drink, setDrink] = useState(null);\n  const fetchDrink = useCallback(() => fetchDrinkApi(`lookup.php?i=${id}`).then(({\n    drinks\n  }) => setDrink(handleDrinksData(drinks[0]))), [id]);\n  const [{\n    loading,\n    error\n  }] = useRequisition(fetchDrink);\n  const [recomends, setRecomends] = useState(null);\n  const fetchRecomends = useCallback(() => fetchFoodsApi().then(({\n    meals\n  }) => setRecomends(meals.slice(0, 6).map(meal => handleFoodsData(meal)))), []);\n  const [{\n    loading: loadingRecom,\n    error: errorRecom\n  }] = useRequisition(fetchRecomends);\n  if (error) return /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 21\n    }\n  }, \"Aconteceu algo errado em detalhes de \");\n  if (loading) return /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 23\n    }\n  }, \"Carrgando detalhes de bebidas...\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DetailsCard, {\n    type: \"drink\",\n    eat: drink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }), errorRecom && /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": \"error-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 22\n    }\n  }, \"Aconteceu algo errado em recomenda\\xE7\\xF5es\"), !errorRecom && loadingRecom && /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 39\n    }\n  }, \"Carregando detalhes de comida...\"), !errorRecom && !loadingRecom && recomends && /*#__PURE__*/React.createElement(Carrosel, {\n    cards: recomends,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 53\n    }\n  }));\n}\n\nDrinkDetailsPage.propTypes = {\n  id: PropTypes.number.isRequired\n};\nexport default DrinkDetailsPage;","map":{"version":3,"sources":["/home/lucaswerner/repositories/trybe-projects/sd-03-recipes-app-01/src/pages/DrinkDetailsPage/index.js"],"names":["React","useState","useCallback","PropTypes","DetailsCard","Carrosel","fetchDrinkApi","handleDrinksData","fetchFoodsApi","handleFoodsData","useRequisition","DrinkDetailsPage","id","drink","setDrink","fetchDrink","then","drinks","loading","error","recomends","setRecomends","fetchRecomends","meals","slice","map","meal","loadingRecom","errorRecom","propTypes","number","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,QAA6C,OAA7C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,kBAAtC;AAEA,SAASC,aAAT,EAAwBC,gBAAxB,QAAgD,gCAAhD;AACA,SAASC,aAAT,EAAwBC,eAAxB,QAA+C,+BAA/C;AACA,OAAOC,cAAP,MAA2B,yBAA3B;;AAEA,SAASC,gBAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAkC;AAChC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAMc,UAAU,GAAGb,WAAW,CAAC,MAAMI,aAAa,CAAE,gBAAeM,EAAG,EAApB,CAAb,CAClCI,IADkC,CAC7B,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAgBH,QAAQ,CAACP,gBAAgB,CAACU,MAAM,CAAC,CAAD,CAAP,CAAjB,CADK,CAAP,EAE5B,CAACL,EAAD,CAF4B,CAA9B;AAGA,QAAM,CAAC;AAAEM,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAD,IAAuBT,cAAc,CAACK,UAAD,CAA3C;AAEA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BpB,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAMqB,cAAc,GAAGpB,WAAW,CAAC,MAAOM,aAAa,GACpDQ,IADuC,CAClC,CAAC;AAAEO,IAAAA;AAAF,GAAD,KAAeF,YAAY,CAACE,KAAK,CAACC,KAAN,CAAY,CAAZ,EAAe,CAAf,EAAkBC,GAAlB,CAAuBC,IAAD,IAAUjB,eAAe,CAACiB,IAAD,CAA/C,CAAD,CADO,CAAR,EAE/B,EAF+B,CAAlC;AAGA,QAAM,CAAC;AAAER,IAAAA,OAAO,EAAES,YAAX;AAAyBR,IAAAA,KAAK,EAAES;AAAhC,GAAD,IAAiDlB,cAAc,CAACY,cAAD,CAArE;AAEA,MAAIH,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAAP;AACX,MAAID,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAP;AACb,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAC,OAAlB;AAA0B,IAAA,GAAG,EAAEL,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGe,UAAU,iBAAI;AAAI,mBAAY,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAFjB,EAGG,CAACA,UAAD,IAAeD,YAAf,iBAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAHlC,EAIG,CAACC,UAAD,IAAe,CAACD,YAAhB,IAAgCP,SAAhC,iBAA6C,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJhD,CADF;AAQD;;AAEDT,gBAAgB,CAACkB,SAAjB,GAA6B;AAC3BjB,EAAAA,EAAE,EAAET,SAAS,CAAC2B,MAAV,CAAiBC;AADM,CAA7B;AAIA,eAAepB,gBAAf","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { DetailsCard, Carrosel } from '../../components';\n\nimport { fetchDrinkApi, handleDrinksData } from '../../services/APIs/DRINKS_API';\nimport { fetchFoodsApi, handleFoodsData } from '../../services/APIs/FOODS_API';\nimport useRequisition from '../../hooks/requisition';\n\nfunction DrinkDetailsPage({ id }) {\n  const [drink, setDrink] = useState(null);\n  const fetchDrink = useCallback(() => fetchDrinkApi(`lookup.php?i=${id}`)\n    .then(({ drinks }) => setDrink(handleDrinksData(drinks[0])))\n  , [id]);\n  const [{ loading, error }] = useRequisition(fetchDrink);\n\n  const [recomends, setRecomends] = useState(null);\n  const fetchRecomends = useCallback(() => (fetchFoodsApi()\n    .then(({ meals }) => setRecomends(meals.slice(0, 6).map((meal) => handleFoodsData(meal))))\n  ), []);\n  const [{ loading: loadingRecom, error: errorRecom }] = useRequisition(fetchRecomends);\n\n  if (error) return <h1>Aconteceu algo errado em detalhes de </h1>;\n  if (loading) return <h1>Carrgando detalhes de bebidas...</h1>;\n  return (\n    <div>\n      <DetailsCard type=\"drink\" eat={drink} />\n      {errorRecom && <h3 data-testid=\"error-details\">Aconteceu algo errado em recomendações</h3>}\n      {!errorRecom && loadingRecom && <h3>Carregando detalhes de comida...</h3>}\n      {!errorRecom && !loadingRecom && recomends && <Carrosel cards={recomends} />}\n    </div>\n  );\n}\n\nDrinkDetailsPage.propTypes = {\n  id: PropTypes.number.isRequired,\n};\n\nexport default DrinkDetailsPage;\n"]},"metadata":{},"sourceType":"module"}