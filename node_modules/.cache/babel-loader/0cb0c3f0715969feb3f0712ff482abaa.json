{"ast":null,"code":"import _slicedToArray from\"/home/lucaswerner/repositories/github-personal/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import{Redirect}from'react-router-dom';import{Card,Header,Footer,Loading}from'../../components';import{FoodsContext}from'../../contexts/FoodsContext';import{fetchFoodsApi}from'../../services/APIs/FOODS_API';var handleRedirect=function handleRedirect(name,setFoodFilter,setRedirect){var search=\"filter.php?i=\".concat(name);setFoodFilter(search);setRedirect(true);};function ExploreFoodIngredientsPage(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ingredients=_useState4[0],setIngredients=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),redirect=_useState6[0],setRedirect=_useState6[1];var _useContext=useContext(FoodsContext),_useContext2=_slicedToArray(_useContext,2),setFoodFilter=_useContext2[1].setFoodFilter;useEffect(function(){fetchFoodsApi('list.php?i=list').then(function(_ref){var meals=_ref.meals;return meals.map(function(_ref2){var ingredient=_ref2.strIngredient;return{name:ingredient,srcImage:\"https://www.themealdb.com/images/ingredients/\".concat(ingredient,\"-Small.png\")};});}).then(function(arr){setIngredients(arr);setLoading(false);}).catch(function(err){console.log(err);});},[setLoading]);if(loading)return/*#__PURE__*/React.createElement(Loading,null);if(redirect)return/*#__PURE__*/React.createElement(Redirect,{to:\"/comidas\"});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{titleTag:\"Explorar Ingredientes\"}),ingredients.slice(0,12).map(function(_ref3,index){var name=_ref3.name,srcImage=_ref3.srcImage;return/*#__PURE__*/React.createElement(\"button\",{key:name,onClick:function onClick(){return handleRedirect(name,setFoodFilter,setRedirect);}},/*#__PURE__*/React.createElement(Card,{name:name,index:index,srcImage:srcImage,testid:{title:\"\".concat(index,\"-ingredient-card\")}}));}),/*#__PURE__*/React.createElement(Footer,null));}export default ExploreFoodIngredientsPage;","map":{"version":3,"sources":["/home/lucaswerner/repositories/github-personal/recipes-app/src/pages/ExploreFoodIngredientsPage/index.js"],"names":["React","useEffect","useState","useContext","Redirect","Card","Header","Footer","Loading","FoodsContext","fetchFoodsApi","handleRedirect","name","setFoodFilter","setRedirect","search","ExploreFoodIngredientsPage","loading","setLoading","ingredients","setIngredients","redirect","then","meals","map","ingredient","strIngredient","srcImage","arr","catch","err","console","log","slice","index","title"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,MAAvB,CAA+BC,OAA/B,KAA8C,kBAA9C,CACA,OAASC,YAAT,KAA6B,6BAA7B,CACA,OAASC,aAAT,KAA8B,+BAA9B,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,IAAD,CAAOC,aAAP,CAAsBC,WAAtB,CAAsC,CAC3D,GAAMC,CAAAA,MAAM,wBAAmBH,IAAnB,CAAZ,CACAC,aAAa,CAACE,MAAD,CAAb,CACAD,WAAW,CAAC,IAAD,CAAX,CACD,CAJD,CAMA,QAASE,CAAAA,0BAAT,EAAsC,eACNd,QAAQ,CAAC,IAAD,CADF,wCAC7Be,OAD6B,eACpBC,UADoB,8BAEEhB,QAAQ,CAAC,EAAD,CAFV,yCAE7BiB,WAF6B,eAEhBC,cAFgB,8BAGJlB,QAAQ,CAAC,KAAD,CAHJ,yCAG7BmB,QAH6B,eAGnBP,WAHmB,+BAINX,UAAU,CAACM,YAAD,CAJJ,4CAIzBI,aAJyB,iBAIzBA,aAJyB,CAMpCZ,SAAS,CAAC,UAAM,CACdS,aAAa,CAAC,iBAAD,CAAb,CACGY,IADH,CACQ,kBAAGC,CAAAA,KAAH,MAAGA,KAAH,OACJA,CAAAA,KAAK,CAACC,GAAN,CAAU,mBAAkBC,CAAAA,UAAlB,OAAGC,aAAH,OAAoC,CAC5Cd,IAAI,CAAEa,UADsC,CAE5CE,QAAQ,wDAAkDF,UAAlD,cAFoC,CAApC,EAAV,CADI,EADR,EAOGH,IAPH,CAOQ,SAACM,GAAD,CAAS,CACbR,cAAc,CAACQ,GAAD,CAAd,CACAV,UAAU,CAAC,KAAD,CAAV,CACD,CAVH,EAWGW,KAXH,CAWS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAbH,EAcD,CAfQ,CAeN,CAACZ,UAAD,CAfM,CAAT,CAiBA,GAAID,OAAJ,CAAa,mBAAO,oBAAC,OAAD,MAAP,CACb,GAAII,QAAJ,CAAc,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EAAP,CACd,mBACE,4CACE,oBAAC,MAAD,EAAQ,QAAQ,CAAC,uBAAjB,EADF,CAEGF,WAAW,CAACc,KAAZ,CAAkB,CAAlB,CAAqB,EAArB,EAAyBT,GAAzB,CAA6B,eAAqBU,KAArB,KAAGtB,CAAAA,IAAH,OAAGA,IAAH,CAASe,QAAT,OAASA,QAAT,oBAC5B,8BAAQ,GAAG,CAAEf,IAAb,CAAmB,OAAO,CAAE,yBAAMD,CAAAA,cAAc,CAACC,IAAD,CAAOC,aAAP,CAAsBC,WAAtB,CAApB,EAA5B,eACE,oBAAC,IAAD,EACE,IAAI,CAAEF,IADR,CAEE,KAAK,CAAEsB,KAFT,CAGE,QAAQ,CAAEP,QAHZ,CAIE,MAAM,CAAE,CAAEQ,KAAK,WAAKD,KAAL,oBAAP,CAJV,EADF,CAD4B,EAA7B,CAFH,cAYE,oBAAC,MAAD,MAZF,CADF,CAgBD,CAED,cAAelB,CAAAA,0BAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Card, Header, Footer, Loading } from '../../components';\nimport { FoodsContext } from '../../contexts/FoodsContext';\nimport { fetchFoodsApi } from '../../services/APIs/FOODS_API';\n\nconst handleRedirect = (name, setFoodFilter, setRedirect) => {\n  const search = `filter.php?i=${name}`;\n  setFoodFilter(search);\n  setRedirect(true);\n};\n\nfunction ExploreFoodIngredientsPage() {\n  const [loading, setLoading] = useState(true);\n  const [ingredients, setIngredients] = useState([]);\n  const [redirect, setRedirect] = useState(false);\n  const [, { setFoodFilter }] = useContext(FoodsContext);\n\n  useEffect(() => {\n    fetchFoodsApi('list.php?i=list')\n      .then(({ meals }) =>\n        meals.map(({ strIngredient: ingredient }) => ({\n          name: ingredient,\n          srcImage: `https://www.themealdb.com/images/ingredients/${ingredient}-Small.png`,\n        })),\n      )\n      .then((arr) => {\n        setIngredients(arr);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [setLoading]);\n\n  if (loading) return <Loading />;\n  if (redirect) return <Redirect to=\"/comidas\" />;\n  return (\n    <div>\n      <Header titleTag=\"Explorar Ingredientes\" />\n      {ingredients.slice(0, 12).map(({ name, srcImage }, index) => (\n        <button key={name} onClick={() => handleRedirect(name, setFoodFilter, setRedirect)}>\n          <Card\n            name={name}\n            index={index}\n            srcImage={srcImage}\n            testid={{ title: `${index}-ingredient-card` }}\n          />\n        </button>\n      ))}\n      <Footer />\n    </div>\n  );\n}\n\nexport default ExploreFoodIngredientsPage;\n"]},"metadata":{},"sourceType":"module"}