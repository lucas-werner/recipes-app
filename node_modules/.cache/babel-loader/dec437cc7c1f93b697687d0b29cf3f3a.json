{"ast":null,"code":"var _jsxFileName = \"/home/lucaswerner/repositories/trybe-projects/sd-03-recipes-app-01/src/pages/ExploreFoodIngredientsPage/index.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport { Card, Header, Footer, Loading } from '../../components';\nimport { Link, Redirect } from 'react-router-dom';\nimport { FoodsContext } from '../../contexts/FoodsContext';\nimport { fetchFoodsApi } from '../../services/APIs/FOODS_API';\n\nconst handleRedirect = (name, setFoodFilter) => {\n  const search = `filter.php?i=${name}`;\n  setFoodFilter(search);\n  return /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/comidas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 10\n    }\n  });\n};\n\nfunction ExploreFoodIngredientsPage() {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [ingredients, setIngredients] = useState([]);\n  const [, {\n    setFoodFilter\n  }] = useContext(FoodsContext);\n  useEffect(() => {\n    fetchFoodsApi('list.php?i=list').then(({\n      meals\n    }) => meals.map(({\n      strIngredient: ingredient\n    }) => ({\n      name: ingredient,\n      srcImage: `https://www.themealdb.com/images/ingredients/${ingredient}-Small.png`\n    }))).then(arr => {\n      setIngredients(arr);\n      setLoading(false);\n    }).catch(err => {\n      console.log(err);\n      setError(err);\n    });\n  }, [setLoading]);\n  if (loading) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 23\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    titleTag: \"Explorar Ingredientes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }), ingredients.slice(0, 12).map(({\n    name,\n    srcImage\n  }, index) => /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleRedirect(name, setFoodFilter),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    name: name,\n    index: index,\n    srcImage: srcImage,\n    testid: {\n      title: `${index}-ingredient-card`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default ExploreFoodIngredientsPage;","map":{"version":3,"sources":["/home/lucaswerner/repositories/trybe-projects/sd-03-recipes-app-01/src/pages/ExploreFoodIngredientsPage/index.js"],"names":["React","useEffect","useState","useContext","Card","Header","Footer","Loading","Link","Redirect","FoodsContext","fetchFoodsApi","handleRedirect","name","setFoodFilter","search","ExploreFoodIngredientsPage","loading","setLoading","error","setError","ingredients","setIngredients","then","meals","map","strIngredient","ingredient","srcImage","arr","catch","err","console","log","slice","index","title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,MAAvB,EAA+BC,OAA/B,QAA8C,kBAA9C;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,SAASC,YAAT,QAA6B,6BAA7B;AACA,SACEC,aADF,QAEO,+BAFP;;AAIA,MAAMC,cAAc,GAAG,CAACC,IAAD,EAAOC,aAAP,KAAyB;AAC9C,QAAMC,MAAM,GAAI,gBAAeF,IAAK,EAApC;AACAC,EAAAA,aAAa,CAACC,MAAD,CAAb;AACA,sBAAO,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAJD;;AAMA,SAASC,0BAAT,GAAsC;AACpC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACiB,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACmB,WAAD,EAAcC,cAAd,IAAgCpB,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,GAAG;AAAEY,IAAAA;AAAF,GAAH,IAAwBX,UAAU,CAACO,YAAD,CAAxC;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,aAAa,CAAC,iBAAD,CAAb,CACGY,IADH,CACQ,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAeA,KAAK,CAACC,GAAN,CAAU,CAAC;AAAEC,MAAAA,aAAa,EAAEC;AAAjB,KAAD,MAAoC;AAAEd,MAAAA,IAAI,EAAEc,UAAR;AAAoBC,MAAAA,QAAQ,EAAG,gDAA+CD,UAAW;AAAzF,KAApC,CAAV,CADvB,EAEGJ,IAFH,CAESM,GAAD,IAAS;AAAEP,MAAAA,cAAc,CAACO,GAAD,CAAd;AAAqBX,MAAAA,UAAU,CAAC,KAAD,CAAV;AAAoB,KAF5D,EAGGY,KAHH,CAGUC,GAAD,IAAS;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAkBX,MAAAA,QAAQ,CAACW,GAAD,CAAR;AAAgB,KAHtD;AAID,GALQ,EAKN,CAACb,UAAD,CALM,CAAT;AAOA,MAAID,OAAJ,EAAa,oBAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACb,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,uBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGI,WAAW,CACXa,KADA,CACM,CADN,EACS,EADT,EAEAT,GAFA,CAEI,CAAC;AAAEZ,IAAAA,IAAF;AAAQe,IAAAA;AAAR,GAAD,EAAqBO,KAArB,kBACH;AAAQ,IAAA,OAAO,EAAEvB,cAAc,CAACC,IAAD,EAAOC,aAAP,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AACA,IAAA,IAAI,EAAED,IADN;AAEA,IAAA,KAAK,EAAEsB,KAFP;AAGA,IAAA,QAAQ,EAAEP,QAHV;AAIA,IAAA,MAAM,EAAE;AAACQ,MAAAA,KAAK,EAAE,GAAED,KAAM;AAAhB,KAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHD,CAFH,eAcE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,CADF;AAkBD;;AAED,eAAenB,0BAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { Card, Header, Footer, Loading } from '../../components';\nimport { Link, Redirect } from 'react-router-dom';\nimport { FoodsContext } from '../../contexts/FoodsContext';\nimport {\n  fetchFoodsApi, \n} from '../../services/APIs/FOODS_API';\n\nconst handleRedirect = (name, setFoodFilter) => {\n  const search = `filter.php?i=${name}`\n  setFoodFilter(search)\n  return <Redirect to=\"/comidas\" />\n};\n\nfunction ExploreFoodIngredientsPage() {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [ingredients, setIngredients] = useState([]);\n  const [, { setFoodFilter }] = useContext(FoodsContext);\n\n  useEffect(() => {\n    fetchFoodsApi('list.php?i=list')\n      .then(({ meals }) => meals.map(({ strIngredient: ingredient }) => ({ name: ingredient, srcImage: `https://www.themealdb.com/images/ingredients/${ingredient}-Small.png` })))\n      .then((arr) => { setIngredients(arr); setLoading(false); })\n      .catch((err) => { console.log(err); setError(err); })\n  }, [setLoading]);\n\n  if (loading) return <Loading />\n  return (\n    <div>\n      <Header titleTag=\"Explorar Ingredientes\" />\n      {ingredients\n      .slice(0, 12)\n      .map(({ name, srcImage }, index) => (\n        <button onClick={handleRedirect(name, setFoodFilter)}>\n          <Card \n          name={name} \n          index={index} \n          srcImage={srcImage}\n          testid={{title:`${index}-ingredient-card`}} \n          />\n        </button>\n      ))}     \n      <Footer />\n    </div>\n  );\n}\n\nexport default ExploreFoodIngredientsPage;\n"]},"metadata":{},"sourceType":"module"}