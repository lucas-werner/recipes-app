{"ast":null,"code":"var _jsxFileName = \"/home/lucaswerner/repositories/github-personal/recipes-app/src/pages/FoodDetailsPage/index.js\";\nimport React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { DetailsCard, Carrosel } from '../../components';\nimport { fetchFoodsApi, handleFoodsData } from '../../services/APIs/FOODS_API';\nimport { fetchDrinkApi, handleDrinksData } from '../../services/APIs/DRINKS_API';\nimport useRequisition from '../../hooks/requisition';\n\nfunction FoodDetailsPage({\n  id\n}) {\n  const [food, setFood] = useState(null);\n  const fetchFood = useCallback(() => fetchFoodsApi(`lookup.php?i=${id}`).then(({\n    meals\n  }) => setFood(handleFoodsData(meals[0]))), [setFood, id]);\n  const [{\n    loading,\n    error\n  }] = useRequisition(fetchFood);\n  const [recomends, setRecomends] = useState(null);\n  const fetchRecomends = useCallback(() => fetchDrinkApi().then(({\n    drinks\n  }) => setRecomends(drinks.slice(0, 6).map(drk => handleDrinksData(drk)))), []);\n  const [{\n    loading: loadingRecom,\n    error: errorRecom\n  }] = useRequisition(fetchRecomends);\n  if (error) return /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 21\n    }\n  }, \"Aconteceu algo errado em detalhes de comida\");\n  if (loading) return /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 23\n    }\n  }, \"Carregando receita\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DetailsCard, {\n    type: \"food\",\n    recipe: food,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }), errorRecom && /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": \"error-recom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 22\n    }\n  }, \"Aconteceu algo errado em recomenda\\xE7\\xF5es\"), !errorRecom && loadingRecom && /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 39\n    }\n  }, \"Carregando receita\"), !errorRecom && !loadingRecom && recomends && /*#__PURE__*/React.createElement(Carrosel, {\n    cards: recomends,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 53\n    }\n  }));\n}\n\nFoodDetailsPage.propTypes = {\n  id: PropTypes.number.isRequired\n};\nexport default FoodDetailsPage;","map":{"version":3,"sources":["/home/lucaswerner/repositories/github-personal/recipes-app/src/pages/FoodDetailsPage/index.js"],"names":["React","useState","useCallback","PropTypes","DetailsCard","Carrosel","fetchFoodsApi","handleFoodsData","fetchDrinkApi","handleDrinksData","useRequisition","FoodDetailsPage","id","food","setFood","fetchFood","then","meals","loading","error","recomends","setRecomends","fetchRecomends","drinks","slice","map","drk","loadingRecom","errorRecom","propTypes","number","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,QAA6C,OAA7C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,kBAAtC;AAEA,SAASC,aAAT,EAAwBC,eAAxB,QAA+C,+BAA/C;AACA,SAASC,aAAT,EAAwBC,gBAAxB,QAAgD,gCAAhD;AACA,OAAOC,cAAP,MAA2B,yBAA3B;;AAEA,SAASC,eAAT,CAAyB;AAAEC,EAAAA;AAAF,CAAzB,EAAiC;AAC/B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAMc,SAAS,GAAGb,WAAW,CAAC,MAAMI,aAAa,CAAE,gBAAeM,EAAG,EAApB,CAAb,CACjCI,IADiC,CAC5B,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAeH,OAAO,CAACP,eAAe,CAACU,KAAK,CAAC,CAAD,CAAN,CAAhB,CADM,CAAP,EAC+B,CAACH,OAAD,EAAUF,EAAV,CAD/B,CAA7B;AAEA,QAAM,CAAC;AAAEM,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAD,IAAuBT,cAAc,CAACK,SAAD,CAA3C;AAEA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BpB,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAMqB,cAAc,GAAGpB,WAAW,CAAC,MAAOM,aAAa,GACpDQ,IADuC,CAClC,CAAC;AAAEO,IAAAA;AAAF,GAAD,KAAgBF,YAAY,CAACE,MAAM,CAACC,KAAP,CAAa,CAAb,EAAgB,CAAhB,EAAmBC,GAAnB,CAAwBC,GAAD,IAASjB,gBAAgB,CAACiB,GAAD,CAAhD,CAAD,CADM,CAAR,EAE/B,EAF+B,CAAlC;AAGA,QAAM,CAAC;AAAER,IAAAA,OAAO,EAAES,YAAX;AAAyBR,IAAAA,KAAK,EAAES;AAAhC,GAAD,IAAiDlB,cAAc,CAACY,cAAD,CAArE;AAEA,MAAIH,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAAP;AACX,MAAID,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAP;AACb,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAC,MAAlB;AAAyB,IAAA,MAAM,EAAEL,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGe,UAAU,iBAAI;AAAI,mBAAY,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAFjB,EAGG,CAACA,UAAD,IAAeD,YAAf,iBAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHlC,EAIG,CAACC,UAAD,IAAe,CAACD,YAAhB,IAAgCP,SAAhC,iBAA6C,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJhD,CADF;AAQD;;AAEDT,eAAe,CAACkB,SAAhB,GAA4B;AAC1BjB,EAAAA,EAAE,EAAET,SAAS,CAAC2B,MAAV,CAAiBC;AADK,CAA5B;AAIA,eAAepB,eAAf","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { DetailsCard, Carrosel } from '../../components';\n\nimport { fetchFoodsApi, handleFoodsData } from '../../services/APIs/FOODS_API';\nimport { fetchDrinkApi, handleDrinksData } from '../../services/APIs/DRINKS_API';\nimport useRequisition from '../../hooks/requisition';\n\nfunction FoodDetailsPage({ id }) {\n  const [food, setFood] = useState(null);\n  const fetchFood = useCallback(() => fetchFoodsApi(`lookup.php?i=${id}`)\n    .then(({ meals }) => setFood(handleFoodsData(meals[0]))), [setFood, id]);\n  const [{ loading, error }] = useRequisition(fetchFood);\n\n  const [recomends, setRecomends] = useState(null);\n  const fetchRecomends = useCallback(() => (fetchDrinkApi()\n    .then(({ drinks }) => setRecomends(drinks.slice(0, 6).map((drk) => handleDrinksData(drk))))\n  ), []);\n  const [{ loading: loadingRecom, error: errorRecom }] = useRequisition(fetchRecomends);\n\n  if (error) return <h1>Aconteceu algo errado em detalhes de comida</h1>;\n  if (loading) return <h1>Carregando receita</h1>;\n  return (\n    <div>\n      <DetailsCard type=\"food\" recipe={food} />\n      {errorRecom && <h3 data-testid=\"error-recom\">Aconteceu algo errado em recomendações</h3>}\n      {!errorRecom && loadingRecom && <h3>Carregando receita</h3>}\n      {!errorRecom && !loadingRecom && recomends && <Carrosel cards={recomends} />}\n    </div>\n  );\n}\n\nFoodDetailsPage.propTypes = {\n  id: PropTypes.number.isRequired,\n};\n\nexport default FoodDetailsPage;\n"]},"metadata":{},"sourceType":"module"}