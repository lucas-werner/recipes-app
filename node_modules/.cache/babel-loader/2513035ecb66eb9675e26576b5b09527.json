{"ast":null,"code":"import _slicedToArray from\"/home/lucaswerner/repositories/github-personal/recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import{Redirect}from'react-router-dom';import{Card,Header,Footer,Loading}from'../../components';import{DrinksContext}from'../../contexts/DrinksContext';import{fetchDrinkApi}from'../../services/APIs/DRINKS_API';var handleRedirect=function handleRedirect(name,setDrinkFilter,setRedirect){var search=\"filter.php?i=\".concat(name);setDrinkFilter(search);setRedirect(true);};function ExploreDrinkIngredientsPage(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ingredients=_useState4[0],setIngredients=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),redirect=_useState6[0],setRedirect=_useState6[1];var _useContext=useContext(DrinksContext),_useContext2=_slicedToArray(_useContext,2),setDrinkFilter=_useContext2[1].setDrinkFilter;useEffect(function(){fetchDrinkApi('list.php?i=list').then(function(_ref){var drinks=_ref.drinks;return drinks.map(function(_ref2){var ingredient=_ref2.strIngredient1;return{name:ingredient,srcImage:\"https://www.thecocktaildb.com/images/ingredients/\".concat(ingredient,\"-Small.png\")};});}).then(function(arr){setIngredients(arr);setLoading(false);}).catch(function(err){console.log(err);});},[setLoading]);if(loading)return/*#__PURE__*/React.createElement(Loading,null);if(redirect)return/*#__PURE__*/React.createElement(Redirect,{to:\"/bebidas\"});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{titleTag:\"Explorar Ingredientes\"}),ingredients.slice(0,12).map(function(_ref3,index){var name=_ref3.name,srcImage=_ref3.srcImage;return/*#__PURE__*/React.createElement(\"button\",{key:name,onClick:function onClick(){return handleRedirect(name,setDrinkFilter,setRedirect);}},/*#__PURE__*/React.createElement(Card,{name:name,index:index,srcImage:srcImage,testid:{title:\"\".concat(index,\"-ingredient-card\")}}));}),/*#__PURE__*/React.createElement(Footer,null));}export default ExploreDrinkIngredientsPage;","map":{"version":3,"sources":["/home/lucaswerner/repositories/github-personal/recipes-app/src/pages/ExploreDrinkIngredientsPage/index.js"],"names":["React","useEffect","useState","useContext","Redirect","Card","Header","Footer","Loading","DrinksContext","fetchDrinkApi","handleRedirect","name","setDrinkFilter","setRedirect","search","ExploreDrinkIngredientsPage","loading","setLoading","ingredients","setIngredients","redirect","then","drinks","map","ingredient","strIngredient1","srcImage","arr","catch","err","console","log","slice","index","title"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,MAAvB,CAA+BC,OAA/B,KAA8C,kBAA9C,CACA,OAASC,aAAT,KAA8B,8BAA9B,CACA,OAASC,aAAT,KAA8B,gCAA9B,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,IAAD,CAAOC,cAAP,CAAuBC,WAAvB,CAAuC,CAC5D,GAAMC,CAAAA,MAAM,wBAAmBH,IAAnB,CAAZ,CACAC,cAAc,CAACE,MAAD,CAAd,CACAD,WAAW,CAAC,IAAD,CAAX,CACD,CAJD,CAMA,QAASE,CAAAA,2BAAT,EAAuC,eACPd,QAAQ,CAAC,IAAD,CADD,wCAC9Be,OAD8B,eACrBC,UADqB,8BAEChB,QAAQ,CAAC,EAAD,CAFT,yCAE9BiB,WAF8B,eAEjBC,cAFiB,8BAGLlB,QAAQ,CAAC,KAAD,CAHH,yCAG9BmB,QAH8B,eAGpBP,WAHoB,+BAINX,UAAU,CAACM,aAAD,CAJJ,4CAI1BI,cAJ0B,iBAI1BA,cAJ0B,CAMrCZ,SAAS,CAAC,UAAM,CACdS,aAAa,CAAC,iBAAD,CAAb,CACGY,IADH,CACQ,kBAAGC,CAAAA,MAAH,MAAGA,MAAH,OACJA,CAAAA,MAAM,CAACC,GAAP,CAAW,mBAAmBC,CAAAA,UAAnB,OAAGC,cAAH,OAAqC,CAC9Cd,IAAI,CAAEa,UADwC,CAE9CE,QAAQ,4DAAsDF,UAAtD,cAFsC,CAArC,EAAX,CADI,EADR,EAOGH,IAPH,CAOQ,SAACM,GAAD,CAAS,CACbR,cAAc,CAACQ,GAAD,CAAd,CACAV,UAAU,CAAC,KAAD,CAAV,CACD,CAVH,EAWGW,KAXH,CAWS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAbH,EAcD,CAfQ,CAeN,CAACZ,UAAD,CAfM,CAAT,CAiBA,GAAID,OAAJ,CAAa,mBAAO,oBAAC,OAAD,MAAP,CACb,GAAII,QAAJ,CAAc,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EAAP,CAEd,mBACE,4CACE,oBAAC,MAAD,EAAQ,QAAQ,CAAC,uBAAjB,EADF,CAEGF,WAAW,CAACc,KAAZ,CAAkB,CAAlB,CAAqB,EAArB,EAAyBT,GAAzB,CAA6B,eAAqBU,KAArB,KAAGtB,CAAAA,IAAH,OAAGA,IAAH,CAASe,QAAT,OAASA,QAAT,oBAC5B,8BAAQ,GAAG,CAAEf,IAAb,CAAmB,OAAO,CAAE,yBAAMD,CAAAA,cAAc,CAACC,IAAD,CAAOC,cAAP,CAAuBC,WAAvB,CAApB,EAA5B,eACE,oBAAC,IAAD,EACE,IAAI,CAAEF,IADR,CAEE,KAAK,CAAEsB,KAFT,CAGE,QAAQ,CAAEP,QAHZ,CAIE,MAAM,CAAE,CAAEQ,KAAK,WAAKD,KAAL,oBAAP,CAJV,EADF,CAD4B,EAA7B,CAFH,cAYE,oBAAC,MAAD,MAZF,CADF,CAgBD,CAED,cAAelB,CAAAA,2BAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Card, Header, Footer, Loading } from '../../components';\nimport { DrinksContext } from '../../contexts/DrinksContext';\nimport { fetchDrinkApi } from '../../services/APIs/DRINKS_API';\n\nconst handleRedirect = (name, setDrinkFilter, setRedirect) => {\n  const search = `filter.php?i=${name}`;\n  setDrinkFilter(search);\n  setRedirect(true);\n};\n\nfunction ExploreDrinkIngredientsPage() {\n  const [loading, setLoading] = useState(true);\n  const [ingredients, setIngredients] = useState([]);\n  const [redirect, setRedirect] = useState(false);\n  const [, { setDrinkFilter }] = useContext(DrinksContext);\n\n  useEffect(() => {\n    fetchDrinkApi('list.php?i=list')\n      .then(({ drinks }) =>\n        drinks.map(({ strIngredient1: ingredient }) => ({\n          name: ingredient,\n          srcImage: `https://www.thecocktaildb.com/images/ingredients/${ingredient}-Small.png`,\n        })),\n      )\n      .then((arr) => {\n        setIngredients(arr);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [setLoading]);\n\n  if (loading) return <Loading />;\n  if (redirect) return <Redirect to=\"/bebidas\" />;\n\n  return (\n    <div>\n      <Header titleTag=\"Explorar Ingredientes\" />\n      {ingredients.slice(0, 12).map(({ name, srcImage }, index) => (\n        <button key={name} onClick={() => handleRedirect(name, setDrinkFilter, setRedirect)}>\n          <Card\n            name={name}\n            index={index}\n            srcImage={srcImage}\n            testid={{ title: `${index}-ingredient-card` }}\n          />\n        </button>\n      ))}\n      <Footer />\n    </div>\n  );\n}\n\nexport default ExploreDrinkIngredientsPage;\n"]},"metadata":{},"sourceType":"module"}